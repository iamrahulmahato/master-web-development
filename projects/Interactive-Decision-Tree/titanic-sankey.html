<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='utf-8'>
    <style>
        .node {
            cursor: pointer;
        }

        .node text {
            font: 12px helvetica;
        }

        .link {
            fill: #eee;
            opacity: 0.8;
        }
    </style>
</head>

<body>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script>

        var margin = { top: 50, right: 50, bottom: 150, left: 50 };

        // collect all inputs
        var tree_depth = 19;
        var rules = {"0": [], "1": ["Sex: 0"], "2": ["Sex: 0", "Age <= 3.5"], "3": ["Sex: 0", "Age <= 3.5", "Fare <= 29.062"], "4": ["Sex: 0", "Age <= 3.5", "Fare > 29.062"], "5": ["Sex: 0", "Age <= 3.5", "Pclass <= 2", "Fare > 29.062"], "6": ["Sex: 0", "Age <= 3.5", "Pclass > 2", "Fare > 29.062"], "7": ["Sex: 0", "Age > 3.5"], "8": ["Sex: 0", "Age > 3.5", "Pclass <= 1"], "9": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0"], "10": ["Sex: 0", "Pclass <= 1", "Fare <= 127.817", "3.5 < Age <= 43.0"], "11": ["Sex: 0", "Pclass <= 1", "Fare <= 13.144", "3.5 < Age <= 43.0"], "12": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "13.144 < Fare <= 127.817"], "13": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "13.144 < Fare <= 27.135"], "14": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "27.135 < Fare <= 127.817"], "15": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "27.135 < Fare <= 28.875"], "16": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "28.875 < Fare <= 127.817"], "17": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "28.875 < Fare <= 37.812"], "18": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "37.812 < Fare <= 127.817"], "19": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "37.812 < Fare <= 52.277"], "20": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "52.277 < Fare <= 127.817"], "21": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 32.5", "52.277 < Fare <= 127.817"], "22": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 17.5", "52.277 < Fare <= 127.817"], "23": ["Sex: 0", "Pclass <= 1", "17.5 < Age <= 32.5", "52.277 < Fare <= 127.817"], "24": ["Sex: 0", "Pclass <= 1", "17.5 < Age <= 22.0", "52.277 < Fare <= 127.817"], "25": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 32.5", "52.277 < Fare <= 127.817"], "26": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 27.5", "52.277 < Fare <= 127.817"], "27": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 27.5", "52.277 < Fare <= 77.965"], "28": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 27.5", "77.965 < Fare <= 127.817"], "29": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 27.5", "77.965 < Fare <= 85.14"], "30": ["Sex: 0", "Pclass <= 1", "22.0 < Age <= 27.5", "85.14 < Fare <= 127.817"], "31": ["Sex: 0", "Pclass <= 1", "27.5 < Age <= 32.5", "52.277 < Fare <= 127.817"], "32": ["Sex: 0", "Pclass <= 1", "32.5 < Age <= 43.0", "52.277 < Fare <= 127.817"], "33": ["Sex: 0", "Pclass <= 1", "Fare > 127.817", "3.5 < Age <= 43.0"], "34": ["Sex: 0", "Pclass <= 1", "3.5 < Age <= 43.0", "127.817 < Fare <= 387.665"], "35": ["Sex: 0", "Pclass <= 1", "Fare > 387.665", "3.5 < Age <= 43.0"], "36": ["Sex: 0", "Age > 43.0", "Pclass <= 1"], "37": ["Sex: 0", "Pclass <= 1", "43.0 < Age <= 47.5"], "38": ["Sex: 0", "Age > 47.5", "Pclass <= 1"], "39": ["Sex: 0", "Pclass <= 1", "47.5 < Age <= 49.5"], "40": ["Sex: 0", "Pclass <= 1", "Fare <= 99.994", "47.5 < Age <= 49.5"], "41": ["Sex: 0", "Pclass <= 1", "Fare > 99.994", "47.5 < Age <= 49.5"], "42": ["Sex: 0", "Age > 49.5", "Pclass <= 1"], "43": ["Sex: 0", "Pclass <= 1", "49.5 < Age <= 75.5"], "44": ["Sex: 0", "Pclass <= 1", "49.5 < Age <= 52.5"], "45": ["Sex: 0", "Pclass <= 1", "Fare <= 41.225", "49.5 < Age <= 52.5"], "46": ["Sex: 0", "Pclass <= 1", "Fare > 41.225", "49.5 < Age <= 52.5"], "47": ["Sex: 0", "Pclass <= 1", "49.5 < Age <= 52.5", "41.225 < Fare <= 120.037"], "48": ["Sex: 0", "Pclass <= 1", "Fare > 120.037", "49.5 < Age <= 52.5"], "49": ["Sex: 0", "Pclass <= 1", "52.5 < Age <= 75.5"], "50": ["Sex: 0", "Pclass <= 1", "Fare <= 78.244", "52.5 < Age <= 75.5"], "51": ["Sex: 0", "Pclass <= 1", "Fare > 78.244", "52.5 < Age <= 75.5"], "52": ["Sex: 0", "Pclass <= 1", "52.5 < Age <= 75.5", "78.244 < Fare <= 96.237"], "53": ["Sex: 0", "Pclass <= 1", "Fare > 96.237", "52.5 < Age <= 75.5"], "54": ["Sex: 0", "Age > 75.5", "Pclass <= 1"], "55": ["Sex: 0", "Age > 3.5", "Pclass > 1"], "56": ["Sex: 0", "Age > 3.5", "Pclass > 1", "Fare <= 51.698"], "57": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "3.5 < Age <= 32.25"], "58": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "3.5 < Age <= 31.5"], "59": ["Sex: 0", "Pclass > 1", "Fare <= 16.0", "3.5 < Age <= 31.5"], "60": ["Sex: 0", "Pclass > 1", "Fare <= 16.0", "3.5 < Age <= 13.5"], "61": ["Sex: 0", "Pclass > 1", "Fare <= 16.0", "13.5 < Age <= 31.5"], "62": ["Sex: 0", "Pclass > 1", "Fare <= 7.227", "13.5 < Age <= 31.5"], "63": ["Sex: 0", "Pclass > 1", "Fare <= 7.227", "13.5 < Age <= 21.0"], "64": ["Sex: 0", "Pclass > 1", "Fare <= 7.227", "21.0 < Age <= 31.5"], "65": ["Sex: 0", "Pclass > 1", "Fare <= 7.013", "21.0 < Age <= 31.5"], "66": ["Sex: 0", "Pclass > 1", "21.0 < Age <= 31.5", "7.013 < Fare <= 7.227"], "67": ["Sex: 0", "Pclass > 1", "21.0 < Age <= 31.5", "7.013 < Fare <= 7.133"], "68": ["Sex: 0", "Pclass > 1", "21.0 < Age <= 31.5", "7.133 < Fare <= 7.227"], "69": ["Sex: 0", "Pclass > 1", "21.0 < Age <= 24.5", "7.133 < Fare <= 7.227"], "70": ["Sex: 0", "Pclass > 1", "24.5 < Age <= 31.5", "7.133 < Fare <= 7.227"], "71": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 31.5", "7.227 < Fare <= 16.0"], "72": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 16.0"], "73": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 15.394"], "74": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 8.831"], "75": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 7.988"], "76": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 7.798"], "77": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 7.785"], "78": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.227 < Fare <= 7.24"], "79": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 18.5", "7.227 < Fare <= 7.24"], "80": ["Sex: 0", "Pclass > 1", "18.5 < Age <= 28.75", "7.227 < Fare <= 7.24"], "81": ["Sex: 0", "Pclass > 1", "18.5 < Age <= 21.0", "7.227 < Fare <= 7.24"], "82": ["Sex: 0", "Pclass > 1", "21.0 < Age <= 28.75", "7.227 < Fare <= 7.24"], "83": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.24 < Fare <= 7.785"], "84": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.785 < Fare <= 7.798"], "85": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 19.5", "7.785 < Fare <= 7.798"], "86": ["Sex: 0", "Pclass > 1", "19.5 < Age <= 28.75", "7.785 < Fare <= 7.798"], "87": ["Sex: 0", "Pclass > 1", "19.5 < Age <= 21.5", "7.785 < Fare <= 7.798"], "88": ["Sex: 0", "Pclass > 1", "21.5 < Age <= 28.75", "7.785 < Fare <= 7.798"], "89": ["Sex: 0", "Pclass > 1", "21.5 < Age <= 25.5", "7.785 < Fare <= 7.798"], "90": ["Sex: 0", "Pclass > 1", "25.5 < Age <= 28.75", "7.785 < Fare <= 7.798"], "91": ["Sex: 0", "Pclass > 1", "25.5 < Age <= 27.5", "7.785 < Fare <= 7.798"], "92": ["Sex: 0", "Pclass > 1", "27.5 < Age <= 28.75", "7.785 < Fare <= 7.798"], "93": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.798 < Fare <= 7.988"], "94": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "7.988 < Fare <= 8.831"], "95": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 26.5", "7.988 < Fare <= 8.831"], "96": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 19.5", "7.988 < Fare <= 8.831"], "97": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 19.5", "7.988 < Fare <= 8.104"], "98": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 17.0", "7.988 < Fare <= 8.104"], "99": ["Sex: 0", "Pclass > 1", "17.0 < Age <= 19.5", "7.988 < Fare <= 8.104"], "100": ["Sex: 0", "Pclass > 1", "17.0 < Age <= 18.5", "7.988 < Fare <= 8.104"], "101": ["Sex: 0", "Pclass > 1", "18.5 < Age <= 19.5", "7.988 < Fare <= 8.104"], "102": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 19.5", "8.104 < Fare <= 8.831"], "103": ["Sex: 0", "Pclass > 1", "19.5 < Age <= 26.5", "7.988 < Fare <= 8.831"], "104": ["Sex: 0", "Pclass > 1", "26.5 < Age <= 28.75", "7.988 < Fare <= 8.831"], "105": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "8.831 < Fare <= 15.394"], "106": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 28.75", "15.394 < Fare <= 16.0"], "107": ["Sex: 0", "Pclass > 1", "13.5 < Age <= 24.0", "15.394 < Fare <= 16.0"], "108": ["Sex: 0", "Pclass > 1", "24.0 < Age <= 28.75", "15.394 < Fare <= 16.0"], "109": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 31.5", "7.227 < Fare <= 16.0"], "110": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.227 < Fare <= 16.0"], "111": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.227 < Fare <= 7.763"], "112": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.763 < Fare <= 16.0"], "113": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.763 < Fare <= 7.835"], "114": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.835 < Fare <= 16.0"], "115": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "7.835 < Fare <= 8.69"], "116": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "8.69 < Fare <= 16.0"], "117": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "8.69 < Fare <= 9.492"], "118": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "9.492 < Fare <= 16.0"], "119": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "9.492 < Fare <= 10.0"], "120": ["Sex: 0", "Pclass > 1", "28.75 < Age <= 29.5", "10.0 < Fare <= 16.0"], "121": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 31.5", "7.227 < Fare <= 16.0"], "122": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 31.5", "7.227 < Fare <= 8.775"], "123": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 31.5", "8.775 < Fare <= 16.0"], "124": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 31.5", "8.775 < Fare <= 10.0"], "125": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 31.5", "10.0 < Fare <= 16.0"], "126": ["Sex: 0", "Pclass > 1", "29.5 < Age <= 30.5", "10.0 < Fare <= 16.0"], "127": ["Sex: 0", "Pclass > 1", "30.5 < Age <= 31.5", "10.0 < Fare <= 16.0"], "128": ["Sex: 0", "Pclass > 1", "30.5 < Age <= 31.5", "10.0 < Fare <= 11.75"], "129": ["Sex: 0", "Pclass > 1", "30.5 < Age <= 31.5", "11.75 < Fare <= 16.0"], "130": ["Sex: 0", "Pclass > 1", "3.5 < Age <= 31.5", "16.0 < Fare <= 51.698"], "131": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "31.5 < Age <= 32.25"], "132": ["Sex: 0", "Pclass > 1", "Fare <= 18.25", "31.5 < Age <= 32.25"], "133": ["Sex: 0", "Pclass > 1", "Fare <= 8.206", "31.5 < Age <= 32.25"], "134": ["Sex: 0", "Pclass > 1", "Fare <= 7.988", "31.5 < Age <= 32.25"], "135": ["Sex: 0", "Pclass > 1", "Fare <= 7.802", "31.5 < Age <= 32.25"], "136": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.802 < Fare <= 7.988"], "137": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.802 < Fare <= 7.875"], "138": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.875 < Fare <= 7.988"], "139": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.875 < Fare <= 7.91"], "140": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.91 < Fare <= 7.988"], "141": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "7.988 < Fare <= 8.206"], "142": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "8.206 < Fare <= 18.25"], "143": ["Sex: 0", "Pclass > 1", "31.5 < Age <= 32.25", "18.25 < Fare <= 51.698"], "144": ["Sex: 0", "Pclass > 1", "Age > 32.25", "Fare <= 51.698"], "145": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "32.25 < Age <= 45.25"], "146": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "32.25 < Age <= 44.5"], "147": ["Sex: 0", "Pclass > 1", "Fare <= 13.554", "32.25 < Age <= 44.5"], "148": ["Sex: 0", "Pclass > 1", "Fare <= 12.938", "32.25 < Age <= 44.5"], "149": ["Sex: 0", "Pclass > 1", "Fare <= 12.938", "32.25 < Age <= 38.5"], "150": ["Sex: 0", "Pclass > 1", "Fare <= 12.938", "38.5 < Age <= 44.5"], "151": ["Sex: 0", "Pclass > 1", "Fare <= 12.938", "38.5 < Age <= 39.5"], "152": ["Sex: 0", "Pclass > 1", "Fare <= 12.938", "39.5 < Age <= 44.5"], "153": ["Sex: 0", "Pclass > 1", "32.25 < Age <= 44.5", "12.938 < Fare <= 13.554"], "154": ["Sex: 0", "Pclass > 1", "32.25 < Age <= 40.5", "12.938 < Fare <= 13.554"], "155": ["Sex: 0", "Pclass > 1", "32.25 < Age <= 35.0", "12.938 < Fare <= 13.554"], "156": ["Sex: 0", "Pclass > 1", "35.0 < Age <= 40.5", "12.938 < Fare <= 13.554"], "157": ["Sex: 0", "Pclass > 1", "40.5 < Age <= 44.5", "12.938 < Fare <= 13.554"], "158": ["Sex: 0", "Pclass > 1", "32.25 < Age <= 44.5", "13.554 < Fare <= 51.698"], "159": ["Sex: 0", "Pclass > 1", "Fare <= 51.698", "44.5 < Age <= 45.25"], "160": ["Sex: 0", "Pclass > 1", "Age > 45.25", "Fare <= 51.698"], "161": ["Sex: 0", "Age > 3.5", "Pclass > 1", "Fare > 51.698"], "162": ["Sex: 0", "Age > 3.5", "Pclass > 1", "51.698 < Fare <= 64.998"], "163": ["Sex: 0", "Age > 3.5", "Pclass > 1", "Fare > 64.998"], "164": ["Sex: 1"], "165": ["Sex: 1", "Pclass <= 2"], "166": ["Sex: 1", "Age <= 2.5", "Pclass <= 2"], "167": ["Sex: 1", "Age <= 2.5", "Pclass <= 1"], "168": ["Sex: 1", "Age <= 2.5", "1 < Pclass <= 2"], "169": ["Sex: 1", "Age > 2.5", "Pclass <= 2"], "170": ["Sex: 1", "Age > 2.5", "Pclass <= 2", "Fare <= 28.856"], "171": ["Sex: 1", "Age > 2.5", "Pclass <= 2", "Fare <= 28.231"], "172": ["Sex: 1", "Pclass <= 2", "Fare <= 28.231", "2.5 < Age <= 25.5"], "173": ["Sex: 1", "Age > 25.5", "Pclass <= 2", "Fare <= 28.231"], "174": ["Sex: 1", "Pclass <= 2", "Fare <= 28.231", "25.5 < Age <= 26.5"], "175": ["Sex: 1", "Age > 26.5", "Pclass <= 2", "Fare <= 28.231"], "176": ["Sex: 1", "Pclass <= 2", "Fare <= 28.231", "26.5 < Age <= 27.5"], "177": ["Sex: 1", "Pclass <= 2", "Fare <= 17.429", "26.5 < Age <= 27.5"], "178": ["Sex: 1", "Pclass <= 2", "26.5 < Age <= 27.5", "17.429 < Fare <= 28.231"], "179": ["Sex: 1", "Age > 27.5", "Pclass <= 2", "Fare <= 28.231"], "180": ["Sex: 1", "Pclass <= 2", "Fare <= 28.231", "27.5 < Age <= 37.0"], "181": ["Sex: 1", "Age > 37.0", "Pclass <= 2", "Fare <= 28.231"], "182": ["Sex: 1", "Pclass <= 2", "Fare <= 28.231", "37.0 < Age <= 39.0"], "183": ["Sex: 1", "Age > 39.0", "Pclass <= 2", "Fare <= 28.231"], "184": ["Sex: 1", "Age > 39.0", "Pclass <= 2", "Fare <= 25.965"], "185": ["Sex: 1", "Age > 39.0", "Pclass <= 2", "25.965 < Fare <= 28.231"], "186": ["Sex: 1", "Pclass <= 2", "39.0 < Age <= 43.0", "25.965 < Fare <= 28.231"], "187": ["Sex: 1", "Age > 43.0", "Pclass <= 2", "25.965 < Fare <= 28.231"], "188": ["Sex: 1", "Age > 2.5", "Pclass <= 2", "28.231 < Fare <= 28.856"], "189": ["Sex: 1", "Age > 2.5", "Pclass <= 2", "Fare > 28.856"], "190": ["Sex: 1", "Pclass > 2"], "191": ["Sex: 1", "Pclass > 2", "Age <= 27.5"], "192": ["Sex: 1", "Pclass > 2", "Age <= 27.5", "Fare <= 23.087"], "193": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "Fare <= 23.087"], "194": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "Fare <= 20.167"], "195": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "Fare <= 10.798"], "196": ["Sex: 1", "Pclass > 2", "Age <= 14.5", "Fare <= 10.798"], "197": ["Sex: 1", "Pclass > 2", "Age <= 14.5", "Fare <= 7.542"], "198": ["Sex: 1", "Pclass > 2", "Age <= 14.5", "7.542 < Fare <= 10.798"], "199": ["Sex: 1", "Pclass > 2", "Fare <= 10.798", "14.5 < Age <= 16.5"], "200": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "10.798 < Fare <= 20.167"], "201": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "20.167 < Fare <= 23.087"], "202": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "20.167 < Fare <= 21.55"], "203": ["Sex: 1", "Pclass > 2", "Age <= 16.5", "21.55 < Fare <= 23.087"], "204": ["Sex: 1", "Pclass > 2", "Fare <= 23.087", "16.5 < Age <= 27.5"], "205": ["Sex: 1", "Pclass > 2", "Fare <= 23.087", "16.5 < Age <= 26.5"], "206": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "16.5 < Age <= 26.5"], "207": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "16.5 < Age <= 18.5"], "208": ["Sex: 1", "Pclass > 2", "Fare <= 7.123", "16.5 < Age <= 18.5"], "209": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 18.5", "7.123 < Fare <= 7.902"], "210": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 18.5", "7.123 < Fare <= 7.635"], "211": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 18.5", "7.635 < Fare <= 7.902"], "212": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "18.5 < Age <= 26.5"], "213": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "18.5 < Age <= 24.0"], "214": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "18.5 < Age <= 21.5"], "215": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "18.5 < Age <= 20.0"], "216": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "20.0 < Age <= 21.5"], "217": ["Sex: 1", "Pclass > 2", "Fare <= 7.7", "20.0 < Age <= 21.5"], "218": ["Sex: 1", "Pclass > 2", "20.0 < Age <= 21.5", "7.7 < Fare <= 7.902"], "219": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "21.5 < Age <= 24.0"], "220": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "24.0 < Age <= 26.5"], "221": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "24.0 < Age <= 25.5"], "222": ["Sex: 1", "Pclass > 2", "Fare <= 7.902", "25.5 < Age <= 26.5"], "223": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "7.902 < Fare <= 23.087"], "224": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "7.902 < Fare <= 18.629"], "225": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "7.902 < Fare <= 17.25"], "226": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "7.902 < Fare <= 16.4"], "227": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 19.0", "7.902 < Fare <= 16.4"], "228": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 19.0", "7.902 < Fare <= 12.148"], "229": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 19.0", "12.148 < Fare <= 16.4"], "230": ["Sex: 1", "Pclass > 2", "19.0 < Age <= 26.5", "7.902 < Fare <= 16.4"], "231": ["Sex: 1", "Pclass > 2", "19.0 < Age <= 26.5", "7.902 < Fare <= 13.183"], "232": ["Sex: 1", "Pclass > 2", "19.0 < Age <= 26.5", "13.183 < Fare <= 16.4"], "233": ["Sex: 1", "Pclass > 2", "19.0 < Age <= 25.0", "13.183 < Fare <= 16.4"], "234": ["Sex: 1", "Pclass > 2", "25.0 < Age <= 26.5", "13.183 < Fare <= 16.4"], "235": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "16.4 < Fare <= 17.25"], "236": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "17.25 < Fare <= 18.629"], "237": ["Sex: 1", "Pclass > 2", "16.5 < Age <= 26.5", "18.629 < Fare <= 23.087"], "238": ["Sex: 1", "Pclass > 2", "Fare <= 23.087", "26.5 < Age <= 27.5"], "239": ["Sex: 1", "Pclass > 2", "Age <= 27.5", "Fare > 23.087"], "240": ["Sex: 1", "Pclass > 2", "Age <= 27.5", "23.087 < Fare <= 31.331"], "241": ["Sex: 1", "Pclass > 2", "Age <= 27.5", "Fare > 31.331"], "242": ["Sex: 1", "Pclass > 2", "Age > 27.5"], "243": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 55.5"], "244": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 38.5"], "245": ["Sex: 1", "Pclass > 2", "Fare <= 19.125", "27.5 < Age <= 38.5"], "246": ["Sex: 1", "Pclass > 2", "Fare <= 19.125", "27.5 < Age <= 31.5"], "247": ["Sex: 1", "Pclass > 2", "Fare <= 8.673", "27.5 < Age <= 31.5"], "248": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 31.5", "8.673 < Fare <= 19.125"], "249": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 31.5", "8.673 < Fare <= 9.573"], "250": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 31.5", "9.573 < Fare <= 19.125"], "251": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 31.5", "9.573 < Fare <= 14.823"], "252": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 31.5", "14.823 < Fare <= 19.125"], "253": ["Sex: 1", "Pclass > 2", "27.5 < Age <= 30.0", "14.823 < Fare <= 19.125"], "254": ["Sex: 1", "Pclass > 2", "30.0 < Age <= 31.5", "14.823 < Fare <= 19.125"], "255": ["Sex: 1", "Pclass > 2", "Fare <= 19.125", "31.5 < Age <= 38.5"], "256": ["Sex: 1", "Pclass > 2", "Fare > 19.125", "27.5 < Age <= 38.5"], "257": ["Sex: 1", "Pclass > 2", "Fare > 19.125", "27.5 < Age <= 30.5"], "258": ["Sex: 1", "Pclass > 2", "Fare > 19.125", "30.5 < Age <= 38.5"], "259": ["Sex: 1", "Pclass > 2", "38.5 < Age <= 55.5"], "260": ["Sex: 1", "Pclass > 2", "Age > 55.5"]};
        var num_node = 261;
        var width = 1200, height = 1000;
        var max_samples = 571;
        var min_samples = 1;
        var target_colors = ['red', 'green'];
        var root = {"name": "HEAD", "parent": "null", "self": 0, "sample": 571, "impurity": 0.484, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "null", "children": [{"name": "Sex: 0", "parent": 0, "self": 1, "sample": 364, "impurity": 0.321, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 3.5", "parent": 1, "self": 2, "sample": 14, "impurity": 0.337, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 29.062", "parent": 2, "self": 3, "sample": 8, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 29.062", "parent": 2, "self": 4, "sample": 6, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Pclass <= 2", "parent": 4, "self": 5, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Pclass > 2", "parent": 4, "self": 6, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Age > 3.5", "parent": 1, "self": 7, "sample": 350, "impurity": 0.292, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Pclass <= 1", "parent": 7, "self": 8, "sample": 81, "impurity": 0.472, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 43.0", "parent": 8, "self": 9, "sample": 40, "impurity": 0.495, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 127.817", "parent": 9, "self": 10, "sample": 34, "impurity": 0.472, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 13.144", "parent": 10, "self": 11, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 13.144", "parent": 10, "self": 12, "sample": 32, "impurity": 0.451, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 27.135", "parent": 12, "self": 13, "sample": 6, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 27.135", "parent": 12, "self": 14, "sample": 26, "impurity": 0.488, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 28.875", "parent": 14, "self": 15, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 28.875", "parent": 14, "self": 16, "sample": 24, "impurity": 0.469, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 37.812", "parent": 16, "self": 17, "sample": 5, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 37.812", "parent": 16, "self": 18, "sample": 19, "impurity": 0.499, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 52.277", "parent": 18, "self": 19, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 52.277", "parent": 18, "self": 20, "sample": 16, "impurity": 0.469, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 32.5", "parent": 20, "self": 21, "sample": 12, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 17.5", "parent": 21, "self": 22, "sample": 2, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 17.5", "parent": 21, "self": 23, "sample": 10, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 22.0", "parent": 23, "self": 24, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 22.0", "parent": 23, "self": 25, "sample": 7, "impurity": 0.49, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 27.5", "parent": 25, "self": 26, "sample": 5, "impurity": 0.32, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 77.965", "parent": 26, "self": 27, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 77.965", "parent": 26, "self": 28, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 85.14", "parent": 28, "self": 29, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 85.14", "parent": 28, "self": 30, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 27.5", "parent": 25, "self": 31, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}, {"name": "Age > 32.5", "parent": 20, "self": 32, "sample": 4, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}]}]}]}]}, {"name": "Fare > 127.817", "parent": 9, "self": 33, "sample": 6, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 387.665", "parent": 33, "self": 34, "sample": 5, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 387.665", "parent": 33, "self": 35, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 43.0", "parent": 8, "self": 36, "sample": 41, "impurity": 0.343, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 47.5", "parent": 36, "self": 37, "sample": 10, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 47.5", "parent": 36, "self": 38, "sample": 31, "impurity": 0.412, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 49.5", "parent": 38, "self": 39, "sample": 6, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 99.994", "parent": 39, "self": 40, "sample": 5, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 99.994", "parent": 39, "self": 41, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 49.5", "parent": 38, "self": 42, "sample": 25, "impurity": 0.269, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 75.5", "parent": 42, "self": 43, "sample": 24, "impurity": 0.219, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 52.5", "parent": 43, "self": 44, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 41.225", "parent": 44, "self": 45, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 41.225", "parent": 44, "self": 46, "sample": 4, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 120.037", "parent": 46, "self": 47, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 120.037", "parent": 46, "self": 48, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 52.5", "parent": 43, "self": 49, "sample": 19, "impurity": 0.1, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 78.244", "parent": 49, "self": 50, "sample": 16, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 78.244", "parent": 49, "self": 51, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 96.237", "parent": 51, "self": 52, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 96.237", "parent": 51, "self": 53, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}, {"name": "Age > 75.5", "parent": 42, "self": 54, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}]}]}, {"name": "Pclass > 1", "parent": 7, "self": 55, "sample": 269, "impurity": 0.204, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 51.698", "parent": 55, "self": 56, "sample": 262, "impurity": 0.191, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 32.25", "parent": 56, "self": 57, "sample": 174, "impurity": 0.238, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 31.5", "parent": 57, "self": 58, "sample": 164, "impurity": 0.214, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 16.0", "parent": 58, "self": 59, "sample": 134, "impurity": 0.254, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 13.5", "parent": 59, "self": 60, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 13.5", "parent": 59, "self": 61, "sample": 131, "impurity": 0.226, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.227", "parent": 61, "self": 62, "sample": 13, "impurity": 0.426, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 21.0", "parent": 62, "self": 63, "sample": 5, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 21.0", "parent": 62, "self": 64, "sample": 8, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.013", "parent": 64, "self": 65, "sample": 2, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.013", "parent": 64, "self": 66, "sample": 6, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.133", "parent": 66, "self": 67, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 7.133", "parent": 66, "self": 68, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 24.5", "parent": 68, "self": 69, "sample": 2, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 24.5", "parent": 68, "self": 70, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}, {"name": "Fare > 7.227", "parent": 61, "self": 71, "sample": 118, "impurity": 0.196, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 28.75", "parent": 71, "self": 72, "sample": 98, "impurity": 0.15, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 15.394", "parent": 72, "self": 73, "sample": 96, "impurity": 0.135, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 8.831", "parent": 73, "self": 74, "sample": 63, "impurity": 0.198, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.988", "parent": 74, "self": 75, "sample": 44, "impurity": 0.127, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.798", "parent": 75, "self": 76, "sample": 26, "impurity": 0.204, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.785", "parent": 76, "self": 77, "sample": 20, "impurity": 0.095, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.24", "parent": 77, "self": 78, "sample": 5, "impurity": 0.32, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 18.5", "parent": 78, "self": 79, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 18.5", "parent": 78, "self": 80, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 21.0", "parent": 80, "self": 81, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 21.0", "parent": 80, "self": 82, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Fare > 7.24", "parent": 77, "self": 83, "sample": 15, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 7.785", "parent": 76, "self": 84, "sample": 6, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 19.5", "parent": 84, "self": 85, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 19.5", "parent": 84, "self": 86, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 21.5", "parent": 86, "self": 87, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 21.5", "parent": 86, "self": 88, "sample": 4, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 25.5", "parent": 88, "self": 89, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 25.5", "parent": 88, "self": 90, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 27.5", "parent": 90, "self": 91, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 27.5", "parent": 90, "self": 92, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}]}, {"name": "Fare > 7.798", "parent": 75, "self": 93, "sample": 18, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 7.988", "parent": 74, "self": 94, "sample": 19, "impurity": 0.332, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 26.5", "parent": 94, "self": 95, "sample": 18, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 19.5", "parent": 95, "self": 96, "sample": 7, "impurity": 0.49, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 8.104", "parent": 96, "self": 97, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 17.0", "parent": 97, "self": 98, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 17.0", "parent": 97, "self": 99, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 18.5", "parent": 99, "self": 100, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 18.5", "parent": 99, "self": 101, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Fare > 8.104", "parent": 96, "self": 102, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 19.5", "parent": 95, "self": 103, "sample": 11, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 26.5", "parent": 94, "self": 104, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Fare > 8.831", "parent": 73, "self": 105, "sample": 33, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 15.394", "parent": 72, "self": 106, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 24.0", "parent": 106, "self": 107, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 24.0", "parent": 106, "self": 108, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Age > 28.75", "parent": 71, "self": 109, "sample": 20, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 29.5", "parent": 109, "self": 110, "sample": 6, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.763", "parent": 110, "self": 111, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.763", "parent": 110, "self": 112, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.835", "parent": 112, "self": 113, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 7.835", "parent": 112, "self": 114, "sample": 4, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 8.69", "parent": 114, "self": 115, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 8.69", "parent": 114, "self": 116, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 9.492", "parent": 116, "self": 117, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 9.492", "parent": 116, "self": 118, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 10.0", "parent": 118, "self": 119, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 10.0", "parent": 118, "self": 120, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}]}, {"name": "Age > 29.5", "parent": 109, "self": 121, "sample": 14, "impurity": 0.245, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 8.775", "parent": 121, "self": 122, "sample": 8, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 8.775", "parent": 121, "self": 123, "sample": 6, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 10.0", "parent": 123, "self": 124, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 10.0", "parent": 123, "self": 125, "sample": 5, "impurity": 0.32, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 30.5", "parent": 125, "self": 126, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 30.5", "parent": 125, "self": 127, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 11.75", "parent": 127, "self": 128, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 11.75", "parent": 127, "self": 129, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}]}]}]}]}]}]}, {"name": "Fare > 16.0", "parent": 58, "self": 130, "sample": 30, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 31.5", "parent": 57, "self": 131, "sample": 10, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 18.25", "parent": 131, "self": 132, "sample": 9, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 8.206", "parent": 132, "self": 133, "sample": 7, "impurity": 0.49, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.988", "parent": 133, "self": 134, "sample": 6, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.802", "parent": 134, "self": 135, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 7.802", "parent": 134, "self": 136, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.875", "parent": 136, "self": 137, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.875", "parent": 136, "self": 138, "sample": 4, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.91", "parent": 138, "self": 139, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 7.91", "parent": 138, "self": 140, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}, {"name": "Fare > 7.988", "parent": 133, "self": 141, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Fare > 8.206", "parent": 132, "self": 142, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 18.25", "parent": 131, "self": 143, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 32.25", "parent": 56, "self": 144, "sample": 88, "impurity": 0.087, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 45.25", "parent": 144, "self": 145, "sample": 60, "impurity": 0.124, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 44.5", "parent": 145, "self": 146, "sample": 59, "impurity": 0.097, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 13.554", "parent": 146, "self": 147, "sample": 38, "impurity": 0.145, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 12.938", "parent": 147, "self": 148, "sample": 31, "impurity": 0.062, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 38.5", "parent": 148, "self": 149, "sample": 20, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 38.5", "parent": 148, "self": 150, "sample": 11, "impurity": 0.165, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 39.5", "parent": 150, "self": 151, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 39.5", "parent": 150, "self": 152, "sample": 9, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Fare > 12.938", "parent": 147, "self": 153, "sample": 7, "impurity": 0.408, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 40.5", "parent": 153, "self": 154, "sample": 6, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 35.0", "parent": 154, "self": 155, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 35.0", "parent": 154, "self": 156, "sample": 3, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 40.5", "parent": 153, "self": 157, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Fare > 13.554", "parent": 146, "self": 158, "sample": 21, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 44.5", "parent": 145, "self": 159, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Age > 45.25", "parent": 144, "self": 160, "sample": 28, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Fare > 51.698", "parent": 55, "self": 161, "sample": 7, "impurity": 0.49, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 64.998", "parent": 161, "self": 162, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 64.998", "parent": 161, "self": 163, "sample": 4, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}, {"name": "Sex: 1", "parent": 0, "self": 164, "sample": 207, "impurity": 0.346, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Pclass <= 2", "parent": 164, "self": 165, "sample": 125, "impurity": 0.091, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 2.5", "parent": 165, "self": 166, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Pclass <= 1", "parent": 166, "self": 167, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Pclass > 1", "parent": 166, "self": 168, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Age > 2.5", "parent": 165, "self": 169, "sample": 123, "impurity": 0.078, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 28.856", "parent": 169, "self": 170, "sample": 50, "impurity": 0.18, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 28.231", "parent": 170, "self": 171, "sample": 49, "impurity": 0.15, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 25.5", "parent": 171, "self": 172, "sample": 16, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 25.5", "parent": 171, "self": 173, "sample": 33, "impurity": 0.213, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 26.5", "parent": 173, "self": 174, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 26.5", "parent": 173, "self": 175, "sample": 32, "impurity": 0.17, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 27.5", "parent": 175, "self": 176, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 17.429", "parent": 176, "self": 177, "sample": 2, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 17.429", "parent": 176, "self": 178, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 27.5", "parent": 175, "self": 179, "sample": 29, "impurity": 0.128, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 37.0", "parent": 179, "self": 180, "sample": 17, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 37.0", "parent": 179, "self": 181, "sample": 12, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 39.0", "parent": 181, "self": 182, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 39.0", "parent": 181, "self": 183, "sample": 11, "impurity": 0.165, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 25.965", "parent": 183, "self": 184, "sample": 9, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 25.965", "parent": 183, "self": 185, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 43.0", "parent": 185, "self": 186, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 43.0", "parent": 185, "self": 187, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}]}]}]}, {"name": "Fare > 28.231", "parent": 170, "self": 188, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 28.856", "parent": 169, "self": 189, "sample": 73, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Pclass > 2", "parent": 164, "self": 190, "sample": 82, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 27.5", "parent": 190, "self": 191, "sample": 58, "impurity": 0.471, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 23.087", "parent": 191, "self": 192, "sample": 52, "impurity": 0.44, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 16.5", "parent": 192, "self": 193, "sample": 19, "impurity": 0.266, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 20.167", "parent": 193, "self": 194, "sample": 17, "impurity": 0.208, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 10.798", "parent": 194, "self": 195, "sample": 7, "impurity": 0.408, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 14.5", "parent": 195, "self": 196, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.542", "parent": 196, "self": 197, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.542", "parent": 196, "self": 198, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 14.5", "parent": 195, "self": 199, "sample": 4, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Fare > 10.798", "parent": 194, "self": 200, "sample": 10, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Fare > 20.167", "parent": 193, "self": 201, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 21.55", "parent": 201, "self": 202, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 21.55", "parent": 201, "self": 203, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 16.5", "parent": 192, "self": 204, "sample": 33, "impurity": 0.489, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 26.5", "parent": 204, "self": 205, "sample": 30, "impurity": 0.498, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.902", "parent": 205, "self": 206, "sample": 14, "impurity": 0.408, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 18.5", "parent": 206, "self": 207, "sample": 3, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 7.123", "parent": 207, "self": 208, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 7.123", "parent": 207, "self": 209, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.635", "parent": 209, "self": 210, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.635", "parent": 209, "self": 211, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Age > 18.5", "parent": 206, "self": 212, "sample": 11, "impurity": 0.298, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 24.0", "parent": 212, "self": 213, "sample": 9, "impurity": 0.198, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 21.5", "parent": 213, "self": 214, "sample": 4, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 20.0", "parent": 214, "self": 215, "sample": 2, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 20.0", "parent": 214, "self": 216, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 7.7", "parent": 216, "self": 217, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 7.7", "parent": 216, "self": 218, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}, {"name": "Age > 21.5", "parent": 213, "self": 219, "sample": 5, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Age > 24.0", "parent": 212, "self": 220, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 25.5", "parent": 220, "self": 221, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 25.5", "parent": 220, "self": 222, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}]}, {"name": "Fare > 7.902", "parent": 205, "self": 223, "sample": 16, "impurity": 0.469, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 18.629", "parent": 223, "self": 224, "sample": 15, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 17.25", "parent": 224, "self": 225, "sample": 13, "impurity": 0.473, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 16.4", "parent": 225, "self": 226, "sample": 12, "impurity": 0.444, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 19.0", "parent": 226, "self": 227, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 12.148", "parent": 227, "self": 228, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 12.148", "parent": 227, "self": 229, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 19.0", "parent": 226, "self": 230, "sample": 7, "impurity": 0.245, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 13.183", "parent": 230, "self": 231, "sample": 5, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 13.183", "parent": 230, "self": 232, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 25.0", "parent": 232, "self": 233, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 25.0", "parent": 232, "self": 234, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}, {"name": "Fare > 16.4", "parent": 225, "self": 235, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}, {"name": "Fare > 17.25", "parent": 224, "self": 236, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 18.629", "parent": 223, "self": 237, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 26.5", "parent": 204, "self": 238, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Fare > 23.087", "parent": 191, "self": 239, "sample": 6, "impurity": 0.278, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 31.331", "parent": 239, "self": 240, "sample": 5, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 31.331", "parent": 239, "self": 241, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 27.5", "parent": 190, "self": 242, "sample": 24, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 55.5", "parent": 242, "self": 243, "sample": 23, "impurity": 0.34, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 38.5", "parent": 243, "self": 244, "sample": 14, "impurity": 0.459, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 19.125", "parent": 244, "self": 245, "sample": 9, "impurity": 0.346, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Age <= 31.5", "parent": 245, "self": 246, "sample": 7, "impurity": 0.408, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "left", "children": [{"name": "Fare <= 8.673", "parent": 246, "self": 247, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 8.673", "parent": 246, "self": 248, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 9.573", "parent": 248, "self": 249, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Fare > 9.573", "parent": 248, "self": 250, "sample": 4, "impurity": 0.375, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Fare <= 14.823", "parent": 250, "self": 251, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Fare > 14.823", "parent": 250, "self": 252, "sample": 2, "impurity": 0.5, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 30.0", "parent": 252, "self": 253, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "left"}, {"name": "Age > 30.0", "parent": 252, "self": 254, "sample": 1, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}]}]}]}, {"name": "Age > 31.5", "parent": 245, "self": 255, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Fare > 19.125", "parent": 244, "self": 256, "sample": 5, "impurity": 0.48, "value": [0, 0], "predict": "Not Survived", "color": "red", "pos": "right", "children": [{"name": "Age <= 30.5", "parent": 256, "self": 257, "sample": 2, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "left"}, {"name": "Age > 30.5", "parent": 256, "self": 258, "sample": 3, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}, {"name": "Age > 38.5", "parent": 243, "self": 259, "sample": 9, "impurity": 0.0, "value": [1, 0], "predict": "Not Survived", "color": "red", "pos": "right"}]}, {"name": "Age > 55.5", "parent": 242, "self": 260, "sample": 1, "impurity": 0.0, "value": [0, 1], "predict": "Survived", "color": "green", "pos": "right"}]}]}]}]};

        // calculate tree gap
        var tree_gap = (width - margin['left'] - margin['right']) * 1.0 / tree_depth;

        // node height scale based on number of samples
        var h_node = d3.scale.linear()
            .domain([parseInt(min_samples), parseInt(max_samples)])
            .clamp(true)
            .range([10, 350]);

        // generate tree layout (horizonal)
        var tree = d3.layout.tree().size([height, width])
            .separation(function (a, b) {
                var height = h_node(a.sample) + h_node(b.sample),
                    // horizontal distance between nodes = 16
                    distance = height / 2 + 16;
                return distance;
            });
        var diagonal = d3.svg.diagonal()
            .projection(function (d) {
                return [d.y, d.x];
            });

        var svg = d3.select('body').append('svg')
            .attr('width', width + margin.right + margin.left)
            .attr('height', height + margin.top + margin.bottom)
            .append('g')
            .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

        var i = 0, duration = 750;
        var rect_width = 15;
        // height scale for each tree node
        var y = d3.scale.linear();

        root.x0 = height / 2;
        root.y0 = 0;
        // update tree
        update(root);


        function update(source) {

            // compute the tree layout
            var nodes = tree.nodes(root).reverse(),
                links = tree.links(nodes);

            // normalize for fixed-depth
            nodes.forEach(function (d) {
                d.y = d.depth * tree_gap;
            });

            // draw the nodes
            var node = svg.selectAll('g.node')
                .data(nodes, function (d) {
                    return d.id || (d.id = ++i);
                });

            // enter any new nodes at the parent's previous position
            var nodeEnter = node.enter().append('g')
                .attr('class', 'node')
                .on('click', click)
                .attr('transform', function (d) {
                    return 'translate(' + source.y0 + ',' + source.x0 + ')';
                })
                .on('mouseover', mouseover)
                .on('mouseout', mouseout);

            // draw tree nodes as a stacked bar
            nodeEnter.append("g").selectAll("rect")
                .data(function (d) {
                    var y0 = 0;
                    var node_samples = d.sample;
                    y.rangeRound([h_node(node_samples), 0]).domain([0, node_samples]);
                    d.values_info = d3.keys(target_colors).map(function (i, target_name) {
                        // y0 will update 
                        return { target_name: target_name, y0: y(y0), y1: y(y0 += d.value[i]) }
                    })
                    return d.values_info;
                })
                .enter().append("rect")
                .attr("width", rect_width)
                .attr("y", function (d) { return d.y1; })
                .attr("height", function (d) { return d.y0 - d.y1; })
                .style("fill", function (d) {
                    return target_colors[d.target_name];
                });

            // add text on tree nodes
            var text_gap = 15;
            var text = nodeEnter.append('text')
                .attr('x', 18)
                .attr('y', function (d) {
                    return h_node(d.sample) / 2 - text_gap + 3;
                });

            text.append('tspan')
                .style('font-weight', 'bold')
                .text(function (d) {
                    return d.name;
                });

            text.append('tspan')
                .attr('x', 18)
                .attr('y', function (d) {
                    return h_node(d.sample) / 2 + 3;
                })
                .style('font-size', '11px')
                .style('fill', '#555')
                .text(function (d) {
                    return 'Values: [' + d.value + ']';
                });

            text.append('tspan')
                .attr('x', 18)
                .attr('y', function (d) {
                    return h_node(d.sample) / 2 + text_gap + 3;
                })
                .style('font-size', '11px')
                .style('fill', '#555')
                .text(function (d) {
                    return 'Predict: ' + d.predict;
                });

            nodeEnter.select('text').style('fill-opacity', 0);

            var nodeUpdate = node.transition()
                .duration(duration)
                .attr('transform', function (d) {
                    var height = h_node(+d.sample);
                    var width = rect_width;
                    return 'translate(' + (d.y - width / 2) + ',' + (d.x - height / 2) + ')';
                });

            nodeUpdate.select('text').style('fill-opacity', 1);

            // transition exiting nodes to the parent's new position
            var nodeExit = node.exit().transition()
                .duration(duration)
                .attr('transform', function (d) {
                    return 'translate(' + source.y + ',' + source.x + ')';
                })
                .remove();

            // hide nodes and texts
            nodeExit.select('rect').attr('height', 1e-6);
            nodeExit.select('text').style('fill-opacity', 0);

            // draw the links
            var link = svg.selectAll('path.link')
                .data(links, function (d) {
                    return d.target.id;
                });

            // enter any new links at the parent's previous position
            link.enter().insert('path', 'g')
                .attr('class', 'link')
                .attr('d', function (d) {
                    var o = { x: source.x0, y: source.y0 };
                    d_new = { source: { x: o.y, y: o.x, sample: d.source.sample }, target: { x: o.y, y: o.x, sample: d.target.sample } };
                    return sankey_link(d_new);
                })
                .style('stroke', '#eee');

            // transition links to their new position
            link.transition()
                .duration(duration)
                .attr('d', function (d) {
                    var source_h = h_node(d.source.sample);
                    var target_h = h_node(d.target.sample);
                    // center the starting points 
                    if (d.target.pos == "left") {
                        var o = { x: d.source.x - (source_h - target_h) / 2., y: d.source.y };
                    } else {
                        var o = { x: d.source.x + (source_h - target_h) / 2., y: d.source.y };
                    }
                    d_new = {
                        source: { x: o.y, y: o.x, sample: d.source.sample },
                        target: { x: d.target.y, y: d.target.x, sample: d.target.sample }
                    };
                    return sankey_link(d_new);
                });

            // transition the existing links to the parent's new position
            link.exit().transition()
                .duration(duration)
                .attr('d', function (d) {
                    var o = { x: source.x, y: source.y };
                    d_new = {
                        source: { x: o.y, y: o.x, sample: d.source.sample },
                        target: { x: o.y, y: o.x, sample: d.target.sample }
                    };
                    return sankey_link(d_new);
                }).remove();

            // stash the old positions for transition
            nodes.forEach(function (d) {
                d.x0 = d.x;
                d.y0 = d.y;
            });
        }

        function sankey_link(d_new) {
            var source_h = h_node(d_new.source.sample);
            var target_h = h_node(d_new.target.sample);

            var curvature = .5;
            var x0 = d_new.source.x,
                x1 = d_new.target.x,
                xi = d3.interpolateNumber(x0, x1),
                x2 = xi(curvature),
                x3 = xi(1 - curvature),
                y0 = d_new.source.y - target_h / 2.,
                y1 = d_new.target.y - target_h / 2.;
            return "M" + x0 + "," + y0
                + "C" + x2 + "," + y0
                + " " + x3 + "," + y1
                + " " + x1 + "," + y1
                + "L" + x1 + "," + (y1 + target_h)
                + "C" + x3 + "," + (y1 + target_h)
                + " " + x2 + "," + (y0 + target_h)
                + " " + x0 + "," + (y0 + target_h)
                + "L" + x0 + "," + y0;
        }

        // recursively color the links when hovering on a tree node
        function recurse(d, color) {
            d3.selectAll('.link').each(function (l) {
                if (l.target === d) {
                    d3.select(this).style('fill', color);
                }
            });
            if (d.parent) {
                recurse(d.parent, color);
            }
        }

        function mouseover(d) {
            // if this node has no children nodes
            if (!d.children) {
                var rule = rules[d.self];
                var append = ['Predict: ' + d.predict, 'Impurity: ' + d.impurity, ''];
                rule = append.concat(rule);

                var len = rule.length;
                var info = d3.select(this).append('g').attr('class', 'hover');
                var y0 = h_node(d.sample) + 20;
                var rules_text = info.append('g').append('text').attr('y', y0);

                for (var i = 1; i <= len; i++) {
                    rules_text.append('tspan')
                        .attr('x', 0)
                        .attr('y', y0 + i * 15)
                        .attr('text-anchor', 'left')
                        .style('font-weight', function () {
                            if (i <= 3) {
                                return 'bold';
                            } else {
                                return null;
                            }
                        })
                        .style('fill', function () {
                            if (i <= 3) {
                                return '#000';
                            } else {
                                return d.color;
                            }
                        })
                        .text(function () {
                            return rule[i - 1];
                        });
                }

                // draw the box
                var bbox = info.node().getBBox();
                var padding = 10;
                var rect = d3.select(this).insert('rect', 'g')
                    .attr('class', 'info_bg')
                    .attr('x', bbox.x - padding)
                    .attr('y', bbox.y - padding)
                    .attr('width', bbox.width + padding * 2)
                    .attr('height', bbox.height + padding * 2)
                    .style('fill', 'white')
                    .style('stroke', d.color)
                    .style('stroke-width', 2);

                // make the rule infomation on the first layer
                this.parentNode.appendChild(this);
                recurse(d, d.color);

            }
        }

        function mouseout(d) {
            d3.select('.hover').remove();
            d3.select('.info_bg').remove();

            d3.select(this).style('stroke', function (d) {
                if (d._children) {
                    var stroke_color = '#000';
                } else {
                    var stroke_color = null;
                }
                d3.select(this).selectAll('rect').style('stroke-width', 2).style('stroke', stroke_color);
                return null;
            });

            d3.selectAll('.link').style('fill', '#eee');
        }

        function click(d) {
            if (d.children) {
                d._children = d.children;
                d.children = null;
            } else {
                d.children = d._children;
                d._children = null;
            }
            update(d);
        }

    </script>
</body>

</html>